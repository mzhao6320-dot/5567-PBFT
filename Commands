### 2.1 Terminal Setup
Open a terminal window in the project root path:
```bash
cd 5567-PBFT-main
```

### 2.2 Start the Primary Node
```bash
python primary_node.py
```

### 2.3 Start Replica Nodes
```bash
python pbft_node.py P1 5001
python pbft_node.py P2 5002
python pbft_node.py P3 5003   # Byzantine node
```

### 2.4 Start the Client
```bash
python pbft_client.py 7000
```

### 2.5 Common Commands
In the **Primary Node** terminal:
```bash
list       # show all nodes
status     # show node status
quit       # exit the program
```

### üß© Case 1: Normal Operation (Deposit)
**Command:**
client: send account=alice,amount=100,operation=deposit
P0 (primary): tx
P0 (primary): account=alice,amount=100,operation=deposit
P1 (replica): prepare yes
P2 (replica): prepare yes
P3 (replica, Byzantine): prepare to P0 yes
P3 (replica, Byzantine): prepare to P1 yes
P3 (replica, Byzantine): prepare to P2 yes
P0 (primary), P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P1 (replica), P2 (replica): ack commit
P3 (replica, Byzantine): ack to P0 commit
P3 (replica, Byzantine): ack to P1 commit
P3 (replica, Byzantine): ack to P2 commit
P0 (primary), P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P0 (primary): status

---

### üí∏ Case 2: Normal Operation (Withdraw 20)
**Command:**
client: send account=alice,amount=20,operation=withdraw
P0 (primary): tx
P0 (primary): account=alice,amount=20,operation=withdraw
P1 (replica): prepare yes
P2 (replica): prepare yes
P3 (replica, Byzantine): prepare to P0 yes
P3 (replica, Byzantine): prepare to P1 no
P3 (replica, Byzantine): prepare to P2 no
P0 (primary), P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P1 (replica), P2 (replica): ack commit
P3 (replica, Byzantine): ack to P0 commit
P3 (replica, Byzantine): ack to P1 abort
P3 (replica, Byzantine): ack to P2 abort
P0 (primary), P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P0(primary): status

---

### üí£ Case 3: Withdrawal Failure (Withdraw 100)
**Command:**
client: send account=alice,amount=100,operation=withdraw PO(primary): tx
P0 (primary): account=alice,amount=100,operation=withdraw
Pl(replica): prepare no
P2 (replica): prepare no
P3 (replica, Byzantine): prepare to P0 yes
P3 (replica, Byzantine): prepare to P1 yes
P3 (replica, Byzantine): prepare to P2 no
P0 (primary), P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P1 (replica), P2 (replica): ack commit
P0 (primary): status

---

### üîÑ Case 4: Commit Phase Conflict

client: send account=alice,amount=100,operation=withdraw
P0 (primary): tx
P0 (primary): account=alice,amount=100,operation=withdraw
PI(replica): prepare yes
P2 (replica): prepare yes
P3 (replica, Byzantine): prepare to P0 yes
P3 (replica, Byzantine): prepare to P1 yes
P3 (replica, Byzantine): prepare to P2 yes
P0 (primary),P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P1 (replica): ack abort
P2 (replica): ack abort
P3 (replica, Byzantine): ack to P0 commit
P3 (replica, Byzantine): ack to P1 commit
P3 (replica, Byzantine): ack to P2 commit
P0 (primary), P1 (replica), P2 (replica), P3 (replica, Byzantine): progress
P0 (primary): status
---

### ‚ö†Ô∏è Case 5: Crash and Recovery

P3 (replica, Byzantine): crash
client: account=alice,amount=|00,operation=deposit
P0 (primary): tx
P0(primary): account=alice,amount=100,operation=deposit
P1 (replica): prepare yes
P2 (replica): prepare yes
P0 (primary), P1 (replica), P2 (replica): progress
P2 (replica): ack commit
P3 (replica): ack commit
P0 (primary), P1 (replica), P2 (replica): progress
P0 (primary): status
P3(replica, Byzantine): recover
---

### üîÅ Case 6: View Change

P0 (primary): crash
P1 (replica), P2 (replica), P3 (replica, Byzantine): view change
P0 (replica): recover
Pl(primary): status
Pl(primary): crash
P0 (replica), P2 (replica), P3 (replica, Byzantine): view change
Pl(replica): recover
P2 (primary): status
P2 (primary): crash
P0 (replica), P1 (replica), P3 (replica, Byzantine): view change
P2 (replica): recover
P3 (primary): status
P3 (primary): crash
P0 (replica), P1 (replica), P2 (replica): view change
P3 (replica): recover
P0 (primary): status
---

### üìç Case 7: Checkpointing

P0(primary):checkpoint
View all nodes' logs in checkpoints\final_checkpoint_20251110_231455.log
---
